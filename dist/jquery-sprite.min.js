/*!
 * jQuery-Sprite - 16th Out 2015
 * https://github.com/miamarti/jquery-sprite-animation
 *
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 */
(function(c,v){function l(d,b){function B(a){h.reversed=a;u||(e.isPaused=!1,y("play"),u=n(l))}function l(){u=n(l);var a=E();60>k.fps&&h.lastFrame&&h.lastFrame+1E3/k.fps+1>a||(h.lastFrame=a,w?(m.x+=k.speedX/k.fps,m.y+=k.speedY/k.fps,k.bgWidth&&Math.abs(m.x)>k.bgWidth&&(m.x%=k.bgWidth),k.bgHeight&&Math.abs(m.y)>k.bgHeight&&(m.y%=k.bgHeight)):(h.finite?p=h.immediate?h.to:p+(p>h.to?-1:1):h.reversed?0>=--p&&(p=r.length-1):++p>=r.length&&(p=0),e.frame=p),z=w?Math.round(m.x)+"px "+Math.round(m.y)+"px":r[p],
z!==C&&(d.style.backgroundPosition=C=z),y("frame"),h.finite&&h.to===p&&(e.pause(),"function"===g(h.callback)&&h.callback.call(e)))}function D(a,b){t=0;for(x=q[a].length;t<x;t++)if(q[a][t]===b)return t;return-1}function y(a,b){if(q[a])for(t=0,x=q[a].length;t<x;t++)q[a][t].call(e,a,b)}function A(a){return c.getComputedStyle?c.getComputedStyle(d,null)[a]:d.currentStyle[a]}var k=f(b),e=this,w=!k.frames,r=[],q={},h={},p=0,m,z,C,u,t,x;e.element=d;e.width=k.width||d.clientWidth;e.height=k.height||d.clientHeight;
e.options=k;e.isPaused=!0;e.pause=function(){a(u);u=0;h.lastFrame=0;e.isPaused||(e.isPaused=!0,y("pause"));return e};e.play=function(a){h.finite=!1;h.callback=v;h.immediate=!1;B(a);return e};e.toggle=function(){e[u?"pause":"play"]();return e};e.toStart=function(a,b){return e.to(0,a,b)};e.toEnd=function(a,b){return e.to(r.length-1,a,b)};e.to=function(a,b,d){var c;(c=w)||(c=!(!isNaN(parseFloat(a))&&isFinite(a)));if(c||0>a||a>=r.length)return e;"function"===g(b)&&(d=b,b=!1);if(a===p)if(0===a)p=r.length;
else if(a===r.length-1)p=-1;else return"function"===g(d)&&d.call(e),e.pause(),e;h.finite=!0;h.to=a;h.immediate=!!b;h.callback=d;B();return e};e.set=function(a,b){k[a]=b;return e};e.on=function(a,b){if("object"===g(a))for(var d in a){if(a.hasOwnProperty(d))e.on(d,a[d])}else if("function"===g(b)){d=a.split(" ");for(var c=0,n=d.length;c<n;c++)q[d[c]]=q[d[c]]||[],-1===D(d[c],b)&&q[d[c]].push(b)}else if("array"===g(b))for(d=0,c=b.length;d<c;d++)e.on(a,b[d]);return e};e.off=function(a,b){if(b instanceof
Array)for(var d=0,c=b.length;d<c;d++)e.off(a,b[d]);else for(var d=a.split(" "),c=0,n=d.length;c<n;c++)if(q[d[c]]=q[d[c]]||[],"undefined"===g(b))q[d[c]].length=0;else{var f=D(d[c],b);-1!==f&&q[d[c]].splice(f,1)}return e};e.destroy=function(){e.pause();d.style.backgroundPosition="";return e};(function(){var a=(A("backgroundPosition")||A("backgroundPositionX")+" "+A("backgroundPositionY")).replace(/left|top/gi,0).split(" ");m={x:0|parseInt(a[0],10),y:0|parseInt(a[1],10)};if(w)e.pos=m;else{for(a=r.length=
0;a<k.frames;a++)k.vertical?m.y=a*-e.height:m.x=a*-e.width,r.push(m.x+"px "+m.y+"px");e.frames=r.length;e.frame=0}})()}function g(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?a instanceof c.NodeList&&"nodelist"||a instanceof c.HTMLCollection&&"htmlcollection"||Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase():typeof a}function f(a){var b={};a="object"===g(a)?a:{};for(var c in l.defaults)b[c]=(a.hasOwnProperty(c)?a:l.defaults)[c];return b}var a=c.cancelAnimationFrame||
c.cancelRequestAnimationFrame,n=c.requestAnimationFrame;(function(){for(var d=["moz","webkit","o"],b=0,f=0,g=d.length;f<g&&!a;++f)n=(a=c[d[f]+"CancelAnimationFrame"]||c[d[f]+"CancelRequestAnimationFrame"])&&c[d[f]+"RequestAnimationFrame"];a||(n=function(a){var d=+new Date,f=Math.max(0,16-(d-b));b=d+f;return c.setTimeout(function(){a(d+f)},f)},a=function(a){clearTimeout(a)})})();var E=function(){var a=c.performance;return a&&a.now?a.now.bind(a):function(){return+new Date}}();c.Motio=l;l.defaults={fps:15,
frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}})(window);
(function(c){var v=function(){return 0<navigator.appVersion.indexOf("MSIE 9")},l=function(g){return{set:function(f,a){try{c(g)[0].dataset[f.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})]=a}catch(n){c(g).attr("data-"+f,a)}},get:function(f){var a;try{a=c(g)[0].dataset[f.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})]}catch(n){a=c(g).attr("data-"+f)}return a},is:function(f,a){var n;try{n=c(g)[0].dataset[f.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})]===a}catch(l){n=
c(g).attr("data-"+f)===a}return n},hasOwnProperty:function(f){var a=!1;try{a=c(g)[0].dataset.hasOwnProperty("name")}catch(n){a=void 0!==c(g).attr("data-"+f)&&""!==c(g).attr("data-"+f)&&null!==c(g).attr("data-"+f)}return a}}};c.fn.sprite=function(g){g=c.extend({},{slide:1},g);l(this).hasOwnProperty("slide")||l(this).set("slide",1);l(this).hasOwnProperty("cycle")||l(this).set("cycle",0);var f=this,a={elmt:f[0],config:void 0,sprite:void 0,isEnd:!1,cycle:0,main:function(c){a.setConfig(c);a.createElements();
a.createObject()},setConfig:function(c){a.config=c},createElements:function(){a.createTemps();a.createStyles()},createTemps:function(){var c=document.createElement("div");c.setAttribute("class","slide-tmp");c.setAttribute("data-slide",a.config.sld);for(var f in a.config.cycles)c.appendChild(document.createElement("div"));document.body.appendChild(c)},createStyles:function(){var c="",f=document.createElement("style");f.setAttribute("data-ref","jquerySprite");var d='[data-slide="'+a.config.sld+'"]',
b;b=""+(d+".slide-tmp{")+"    width: 0px;";b+="    height: 0px;";b+="    position: fixed;";b+="    left: 0px;";b+="    top: 0px;";b+="    opacity: 0;";b+="    -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 0);";b+="    filter: alpha(opacity = 0);";b+="}";for(var g in a.config.cycles)b+=d+".slide-tmp div:nth-of-type("+(a.cycle+1)+"){",b+='    background: url("'+a.config.cycles[g].url+'") 0 0 no-repeat;',b+="}",b+=d+'[data-cycle="'+a.cycle+'"]{',b+='    background: url("'+a.config.cycles[g].url+
'") 0 0 no-repeat;',b+="}",c=a.config.cycles[g].url,a.cycle++;b+=d+"{";b+='    background: url("'+c+'") no-repeat;';b+="    background-position: 0 0;";b+="}";b+=".is-end-cicle {";b+="    background-position: right 0 !important;";b+="}";f.innerHTML=b;document.body.appendChild(f)},createObject:function(){a.reset();a.sprite&&a.sprite.destroy&&a.sprite.destroy();a.sprite=new Motio(a.elmt,a.config);a.sprite.on("frame",function(){0===this.frame&&(l(a.elmt).set("cycle",parseInt(l(a.elmt).get("cycle"))+1),
l(a.elmt).is("cycle",a.cycle.toString())&&(this.to(1,!0),a.isEnd=!0,f.addClass("is-end-cicle")));if(a.config.hasOwnProperty("onFrame"))a.config.onFrame(this)});a.sprite.on("play",function(){if(a.config.hasOwnProperty("onPlay"))a.config.onPlay(this)});a.sprite.on("pause",function(){if(a.config.hasOwnProperty("onPause"))a.config.onPause(this)})},reset:function(){f.removeClass("is-end-cicle");a.isEnd&&(l(a.elmt).set("cycle",0),a.isEnd=!1)},toggle:function(){a.reset();a.sprite.toggle()},play:function(){a.reset();
a.sprite.play()},pause:function(){a.reset();a.sprite.pause()},destroy:function(){c('[data-ref="jquerySprite"]').remove();c(".slide-tmp").remove();l(a.elmt).set("cycle",0);a.reset();a.sprite.destroy();v?(delete f.play,delete f.pause,delete f.toggle,delete f.destroy):(delete f.__proto__.play,delete f.__proto__.pause,delete f.__proto__.toggle,delete f.__proto__.destroy)}};this&&this.hasOwnProperty("play")||(a.main(g),v?(this.play=c.proxy(a.play,a),this.pause=c.proxy(a.pause,a),this.toggle=c.proxy(a.toggle,
a),this.destroy=c.proxy(a.destroy,a)):(this.__proto__.play=c.proxy(a.play,a),this.__proto__.pause=c.proxy(a.pause,a),this.__proto__.toggle=c.proxy(a.toggle,a),this.__proto__.destroy=c.proxy(a.destroy,a)));return f}})(jQuery);
