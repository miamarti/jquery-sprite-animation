/*!
 * jQuery-Sprite - 16th Out 2015
 * https://github.com/miamarti/jquery-sprite-animation
 *
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 */
(function(g,t){function a(a,G){function u(a){d.reversed=a;v||(c.isPaused=!1,z("play"),v=p(D))}function D(){v=p(D);var C=b();60>h.fps&&d.lastFrame&&d.lastFrame+1E3/h.fps+1>C||(d.lastFrame=C,w?(k.x+=h.speedX/h.fps,k.y+=h.speedY/h.fps,h.bgWidth&&Math.abs(k.x)>h.bgWidth&&(k.x%=h.bgWidth),h.bgHeight&&Math.abs(k.y)>h.bgHeight&&(k.y%=h.bgHeight)):(d.finite?l=d.immediate?d.to:l+(l>d.to?-1:1):d.reversed?0>=--l&&(l=n.length-1):++l>=n.length&&(l=0),c.frame=l),A=w?Math.round(k.x)+"px "+Math.round(k.y)+"px":n[l],
A!==E&&(a.style.backgroundPosition=E=A),z("frame"),d.finite&&d.to===l&&(c.pause(),"function"===f(d.callback)&&d.callback.call(c)))}function F(a,c){q=0;for(x=m[a].length;q<x;q++)if(m[a][q]===c)return q;return-1}function z(a,b){if(m[a])for(q=0,x=m[a].length;q<x;q++)m[a][q].call(c,a,b)}function B(c){return g.getComputedStyle?g.getComputedStyle(a,null)[c]:a.currentStyle[c]}var h=H(G),c=this,w=!h.frames,n=[],m={},d={},l=0,k,A,E,v,q,x;c.element=a;c.width=h.width||a.clientWidth;c.height=h.height||a.clientHeight;
c.options=h;c.isPaused=!0;c.pause=function(){r(v);v=0;d.lastFrame=0;c.isPaused||(c.isPaused=!0,z("pause"));return c};c.play=function(a){d.finite=!1;d.callback=t;d.immediate=!1;u(a);return c};c.toggle=function(){c[v?"pause":"play"]();return c};c.toStart=function(a,b){return c.to(0,a,b)};c.toEnd=function(a,b){return c.to(n.length-1,a,b)};c.to=function(a,b,y){var e;(e=w)||(e=!(!isNaN(parseFloat(a))&&isFinite(a)));if(e||0>a||a>=n.length)return c;"function"===f(b)&&(y=b,b=!1);if(a===l)if(0===a)l=n.length;
else if(a===n.length-1)l=-1;else return"function"===f(y)&&y.call(c),c.pause(),c;d.finite=!0;d.to=a;d.immediate=!!b;d.callback=y;u();return c};c.set=function(a,b){h[a]=b;return c};c.on=function(a,b){if("object"===f(a))for(var e in a){if(a.hasOwnProperty(e))c.on(e,a[e])}else if("function"===f(b)){e=a.split(" ");for(var d=0,h=e.length;d<h;d++)m[e[d]]=m[e[d]]||[],-1===F(e[d],b)&&m[e[d]].push(b)}else if("array"===f(b))for(e=0,d=b.length;e<d;e++)c.on(a,b[e]);return c};c.off=function(a,b){if(b instanceof
Array)for(var e=0,d=b.length;e<d;e++)c.off(a,b[e]);else for(var e=a.split(" "),d=0,h=e.length;d<h;d++)if(m[e[d]]=m[e[d]]||[],"undefined"===f(b))m[e[d]].length=0;else{var k=F(e[d],b);-1!==k&&m[e[d]].splice(k,1)}return c};c.destroy=function(){c.pause();a.style.backgroundPosition="";return c};(function(){var a=(B("backgroundPosition")||B("backgroundPositionX")+" "+B("backgroundPositionY")).replace(/left|top/gi,0).split(" ");k={x:0|parseInt(a[0],10),y:0|parseInt(a[1],10)};if(w)c.pos=k;else{for(a=n.length=
0;a<h.frames;a++)h.vertical?k.y=a*-c.height:k.x=a*-c.width,n.push(k.x+"px "+k.y+"px");c.frames=n.length;c.frame=0}})()}function f(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?a instanceof g.NodeList&&"nodelist"||a instanceof g.HTMLCollection&&"htmlcollection"||Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase():typeof a}function H(b){var g={};b="object"===f(b)?b:{};for(var u in a.defaults)g[u]=(b.hasOwnProperty(u)?b:a.defaults)[u];return g}var r=g.cancelAnimationFrame||
g.cancelRequestAnimationFrame,p=g.requestAnimationFrame;(function(){for(var a=["moz","webkit","o"],b=0,f=0,t=a.length;f<t&&!r;++f)p=(r=g[a[f]+"CancelAnimationFrame"]||g[a[f]+"CancelRequestAnimationFrame"])&&g[a[f]+"RequestAnimationFrame"];r||(p=function(a){var e=+new Date,f=Math.max(0,16-(e-b));b=e+f;return g.setTimeout(function(){a(e+f)},f)},r=function(a){clearTimeout(a)})})();var b=function(){var a=g.performance;return a&&a.now?a.now.bind(a):function(){return+new Date}}();g.Motio=a;a.defaults={fps:15,
frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}})(window);
(function(g){g.fn.sprite=function(t){t=g.extend({},{slide:1},t);this[0].dataset.hasOwnProperty("slide")||(this[0].dataset.slide=1);this[0].dataset.hasOwnProperty("cycle")||(this[0].dataset.cycle=0);var a={elmt:this[0],config:void 0,sprite:void 0,isEnd:!1,main:function(f){a.setConfig(f);a.createElements();a.createObject()},setConfig:function(f){a.config=f},createElements:function(){a.createTemps();a.createStyles()},createTemps:function(){var f=document.createElement("div");f.setAttribute("class","slide-tmp");
f.dataset.slide=a.config.slide;for(var g in a.config.cycles)f.appendChild(document.createElement("div"));document.body.appendChild(f)},createStyles:function(){var f=0,g="",r=document.createElement("style"),p='[data-slide="'+a.config.slide+'"]',b;b=""+(p+".slide-tmp{")+"    width: 0px;";b+="    height: 0px;";b+="    position: fixed;";b+="    left: 0px;";b+="    top: 0px;";b+="    opacity: 0;";b+="    -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 0);";b+="    filter: alpha(opacity = 0);";
b+="}";for(var e in a.config.cycles)b+=p+".slide-tmp div:nth-of-type("+(f+1)+"){",b+='    background: url("'+a.config.cycles[e].url+'") 0 0 no-repeat;',b+="}",b+=p+'[data-cycle="'+f+'"]{',b+='    background: url("'+a.config.cycles[e].url+'") 0 0 no-repeat;',b+="}",g=a.config.cycles[e].url,f++;b+=p+"{";b+='    background: url("'+g+'") 0 0 no-repeat;';b+="    background-position: 0 0;";b+="}";r.innerHTML=b;document.body.appendChild(r)},createObject:function(){a.sprite=new Motio(a.elmt,a.config);a.sprite.on("frame",
function(){0===this.frame&&(a.elmt.dataset.cycle=parseInt(a.elmt.dataset.cycle)+1,"3"===a.elmt.dataset.cycle&&(this.to(1,!0),a.isEnd=!0));if(a.config.hasOwnProperty("onFrame"))a.config.onFrame(this)});if(a.config.hasOwnProperty("onPlay"))a.config.onPlay(this);if(a.config.hasOwnProperty("onPause"))a.config.onPause(this)},reset:function(){a.isEnd&&(a.elmt.dataset.cycle="0",a.isEnd=!1)},toggle:function(){a.reset();a.sprite.toggle()},play:function(){a.reset();a.sprite.play()},pause:function(){a.reset();
a.sprite.pause()}};this.hasOwnProperty("play")||(a.main(t),this.__proto__.play=a.play.bind(a),this.__proto__.pause=a.pause.bind(a),this.__proto__.toggle=a.toggle.bind(a));return this}})(jQuery);
