/*!
 * jQuery-Sprite - 16th Out 2015
 * https://github.com/miamarti/jquery-sprite-animation
 *
 * Licensed under the MIT license.
 * http://opensource.org/licenses/MIT
 */
(function(d,p){function g(a,g){function B(a){h.reversed=a;t||(e.isPaused=!1,y("play"),t=u(C))}function C(){t=u(C);var b=F();60>k.fps&&h.lastFrame&&h.lastFrame+1E3/k.fps+1>b||(h.lastFrame=b,v?(l.x+=k.speedX/k.fps,l.y+=k.speedY/k.fps,k.bgWidth&&Math.abs(l.x)>k.bgWidth&&(l.x%=k.bgWidth),k.bgHeight&&Math.abs(l.y)>k.bgHeight&&(l.y%=k.bgHeight)):(h.finite?m=h.immediate?h.to:m+(m>h.to?-1:1):h.reversed?0>=--m&&(m=q.length-1):++m>=q.length&&(m=0),e.frame=m),z=v?Math.round(l.x)+"px "+Math.round(l.y)+"px":q[m],
z!==D&&(a.style.backgroundPosition=D=z),y("frame"),h.finite&&h.to===m&&(e.pause(),"function"===f(h.callback)&&h.callback.call(e)))}function E(a,b){r=0;for(w=n[a].length;r<w;r++)if(n[a][r]===b)return r;return-1}function y(a,b){if(n[a])for(r=0,w=n[a].length;r<w;r++)n[a][r].call(e,a,b)}function A(b){return d.getComputedStyle?d.getComputedStyle(a,null)[b]:a.currentStyle[b]}var k=b(g),e=this,v=!k.frames,q=[],n={},h={},m=0,l,z,D,t,r,w;e.element=a;e.width=k.width||a.clientWidth;e.height=k.height||a.clientHeight;
e.options=k;e.isPaused=!0;e.pause=function(){c(t);t=0;h.lastFrame=0;e.isPaused||(e.isPaused=!0,y("pause"));return e};e.play=function(a){h.finite=!1;h.callback=p;h.immediate=!1;B(a);return e};e.toggle=function(){e[t?"pause":"play"]();return e};e.toStart=function(a,b){return e.to(0,a,b)};e.toEnd=function(a,b){return e.to(q.length-1,a,b)};e.to=function(a,b,x){var c;(c=v)||(c=!(!isNaN(parseFloat(a))&&isFinite(a)));if(c||0>a||a>=q.length)return e;"function"===f(b)&&(x=b,b=!1);if(a===m)if(0===a)m=q.length;
else if(a===q.length-1)m=-1;else return"function"===f(x)&&x.call(e),e.pause(),e;h.finite=!0;h.to=a;h.immediate=!!b;h.callback=x;B();return e};e.set=function(a,b){k[a]=b;return e};e.on=function(a,b){if("object"===f(a))for(var c in a){if(a.hasOwnProperty(c))e.on(c,a[c])}else if("function"===f(b)){c=a.split(" ");for(var d=0,g=c.length;d<g;d++)n[c[d]]=n[c[d]]||[],-1===E(c[d],b)&&n[c[d]].push(b)}else if("array"===f(b))for(c=0,d=b.length;c<d;c++)e.on(a,b[c]);return e};e.off=function(a,b){if(b instanceof
Array)for(var c=0,d=b.length;c<d;c++)e.off(a,b[c]);else for(var c=a.split(" "),d=0,g=c.length;d<g;d++)if(n[c[d]]=n[c[d]]||[],"undefined"===f(b))n[c[d]].length=0;else{var h=E(c[d],b);-1!==h&&n[c[d]].splice(h,1)}return e};e.destroy=function(){e.pause();a.style.backgroundPosition="";return e};(function(){var a=(A("backgroundPosition")||A("backgroundPositionX")+" "+A("backgroundPositionY")).replace(/left|top/gi,0).split(" ");l={x:0|parseInt(a[0],10),y:0|parseInt(a[1],10)};if(v)e.pos=l;else{for(a=q.length=
0;a<k.frames;a++)k.vertical?l.y=a*-e.height:l.x=a*-e.width,q.push(l.x+"px "+l.y+"px");e.frames=q.length;e.frame=0}})()}function f(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?a instanceof d.NodeList&&"nodelist"||a instanceof d.HTMLCollection&&"htmlcollection"||Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase():typeof a}function b(a){var b={};a="object"===f(a)?a:{};for(var c in g.defaults)b[c]=(a.hasOwnProperty(c)?a:g.defaults)[c];return b}var c=d.cancelAnimationFrame||
d.cancelRequestAnimationFrame,u=d.requestAnimationFrame;(function(){for(var a=["moz","webkit","o"],b=0,f=0,g=a.length;f<g&&!c;++f)u=(c=d[a[f]+"CancelAnimationFrame"]||d[a[f]+"CancelRequestAnimationFrame"])&&d[a[f]+"RequestAnimationFrame"];c||(u=function(a){var c=+new Date,f=Math.max(0,16-(c-b));b=c+f;return d.setTimeout(function(){a(c+f)},f)},c=function(a){clearTimeout(a)})})();var F=function(){var a=d.performance;return a&&a.now?a.now.bind(a):function(){return+new Date}}();d.Motio=g;g.defaults={fps:15,
frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}})(window);
(function(d){var p=function(g){return{set:function(f,b){try{d(g)[0].dataset[f.replace(/-([a-z])/g,function(b){return b[1].toUpperCase()})]=b}catch(c){d(g).attr("data-"+f,b)}},get:function(f){var b;try{b=d(g)[0].dataset[f.replace(/-([a-z])/g,function(b){return b[1].toUpperCase()})]}catch(c){b=d(g).attr("data-"+f)}return b},is:function(f,b){var c;try{c=d(g)[0].dataset[f.replace(/-([a-z])/g,function(b){return b[1].toUpperCase()})]===b}catch(u){c=d(g).attr("data-"+f)===b}return c},hasOwnProperty:function(f){var b=
!1;try{b=d(g)[0].dataset.hasOwnProperty("name")}catch(c){b=void 0!==d(g).attr("data-"+f)&&""!==d(g).attr("data-"+f)&&null!==d(g).attr("data-"+f)}return b}}};d.fn.sprite=function(g){g=d.extend({},{slide:1},g);p(this).hasOwnProperty("slide")||p(this).set("slide",1);p(this).hasOwnProperty("cycle")||p(this).set("cycle",0);var f=this,b={elmt:f[0],config:void 0,sprite:void 0,isEnd:!1,cycle:0,main:function(c){b.setConfig(c);b.createElements();b.createObject()},setConfig:function(c){b.config=c},createElements:function(){b.createTemps();
b.createStyles()},createTemps:function(){var c=document.createElement("div");c.setAttribute("class","slide-tmp");c.setAttribute("data-slide",b.config.slide);for(var d in b.config.cycles)c.appendChild(document.createElement("div"));document.body.appendChild(c)},createStyles:function(){var c="",d=document.createElement("style");d.setAttribute("data-ref","jquerySprite");var f='[data-slide="'+b.config.slide+'"]',a;a=""+(f+".slide-tmp{")+"    width: 0px;";a+="    height: 0px;";a+="    position: fixed;";
a+="    left: 0px;";a+="    top: 0px;";a+="    opacity: 0;";a+="    -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 0);";a+="    filter: alpha(opacity = 0);";a+="}";for(var g in b.config.cycles)a+=f+".slide-tmp div:nth-of-type("+(b.cycle+1)+"){",a+='    background: url("'+b.config.cycles[g].url+'") 0 0 no-repeat;',a+="}",a+=f+'[data-cycle="'+b.cycle+'"]{',a+='    background: url("'+b.config.cycles[g].url+'") 0 0 no-repeat;',a+="}",c=b.config.cycles[g].url,b.cycle++;a+=f+"{";a+='    background: url("'+
c+'") no-repeat;';a+="    background-position: 0 0;";a+="}";a+=".is-end-cicle {";a+="    background-position: right 0 !important;";a+="}";d.innerHTML=a;document.body.appendChild(d)},createObject:function(){b.reset();b.sprite&&b.sprite.destroy&&b.sprite.destroy();b.sprite=new Motio(b.elmt,b.config);b.sprite.on("frame",function(){0===this.frame&&(p(b.elmt).set("cycle",parseInt(p(b.elmt).get("cycle"))+1),p(b.elmt).is("cycle",b.cycle.toString())&&(this.to(1,!0),b.isEnd=!0,f.addClass("is-end-cicle")));
if(b.config.hasOwnProperty("onFrame"))b.config.onFrame(this)});if(b.config.hasOwnProperty("onPlay"))b.config.onPlay(this);if(b.config.hasOwnProperty("onPause"))b.config.onPause(this)},reset:function(){f.removeClass("is-end-cicle");b.isEnd&&(p(b.elmt).set("cycle",0),b.isEnd=!1)},toggle:function(){b.reset();b.sprite.toggle()},play:function(){b.reset();b.sprite.play()},pause:function(){b.reset();b.sprite.pause()},destroy:function(){d('[data-ref="jquerySprite"]').remove();p(b.elmt).set("cycle",0);b.reset();
b.sprite.destroy();delete f.__proto__.play;delete f.__proto__.pause;delete f.__proto__.toggle;delete f.__proto__.destroy}};this.hasOwnProperty("play")||(b.main(g),this.__proto__.play=b.play.bind(b),this.__proto__.pause=b.pause.bind(b),this.__proto__.toggle=b.toggle.bind(b),this.__proto__.destroy=b.destroy.bind(b));return f}})(jQuery);
